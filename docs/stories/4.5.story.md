# Story 4.5: λ…ΈνΈ μ²΄ν¬λ°•μ¤ κΈ°λ¥ (Reviewed μƒνƒ κ΄€λ¦¬)

## π“‹ μ¤ν† λ¦¬ μ •λ³΄

- **ID:** 4.5
- **Epic:** Epic 4 - AI κΈ°λ° μ”μ•½ λ° νƒκΉ…
- **μ°μ„ μμ„:** P1 (High)
- **μ¤ν† λ¦¬ ν¬μΈνΈ:** 2
- **μƒνƒ:** Ready for Review
- **λ‹΄λ‹Ήμ:** Dev Agent

## π“– μ¤ν† λ¦¬

**As a** μ‚¬μ©μ  
**I want** λ…ΈνΈμ— "Reviewed" μ²΄ν¬λ°•μ¤λ¥Ό μ¶”κ°€ν•μ—¬ κ²€ν†  μƒνƒλ¥Ό κ΄€λ¦¬ν•κ³  μ‹¶λ‹¤  
**So that** λ…ΈνΈμ κ²€ν†  μ™„λ£ μ—¬λ¶€λ¥Ό μ‹κ°μ μΌλ΅ ν™•μΈν•κ³  κ΄€λ¦¬ν•  μ μλ‹¤

## β… μμ© κΈ°μ¤€

### μ£Όμ” κΈ°λ¥
- [x] λ…ΈνΈ λ©λ΅μ—μ„ μ²΄ν¬λ°•μ¤ ν‘μ‹ λ° ν† κΈ€ κΈ°λ¥
- [x] λ…ΈνΈ μƒμ„Έ νμ΄μ§€μ—μ„ μ²΄ν¬λ°•μ¤ ν‘μ‹ λ° ν† κΈ€ κΈ°λ¥
- [x] μ²΄ν¬ μƒνƒμ— λ”°λ¥Έ μ‹κ°μ  ν”Όλ“λ°± (μ·¨μ†μ„ , μƒ‰μƒ λ³€κ²½)
- [x] μ²΄ν¬ μƒνƒ λ°μ΄ν„°λ² μ΄μ¤ μ €μ¥ λ° λ™κΈ°ν™”
- [x] "Reviewed" λΌλ²¨λ΅ λ…ν™•ν• μλ―Έ μ „λ‹¬

### μ‚¬μ©μ κ²½ν—
- [x] μ²΄ν¬ μ „: λΉ μ‚¬κ°ν• μ•„μ΄μ½ (νμƒ‰)
- [x] μ²΄ν¬ ν›„: μ²΄ν¬ μ•„μ΄μ½ (μ΄λ΅μƒ‰)
- [x] μ²΄ν¬λ λ…ΈνΈ μ λ©μ— μ·¨μ†μ„  μ μ© (λ‘κΊΌμ΄ μ„ )
- [x] μ²΄ν¬λ λ…ΈνΈ μ λ© μƒ‰μƒ λ³€κ²½ (νμƒ‰)
- [x] ν΄λ¦­ μ‹ μ¦‰μ‹ μƒνƒ λ³€κ²½ λ° μ‹κ°μ  ν”Όλ“λ°±

### κΈ°μ μ  μ”κµ¬μ‚¬ν•­
- [x] λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§μ— `is_checked` μ»¬λΌ μ¶”κ°€
- [x] API μ—”λ“ν¬μΈνΈλ΅ μ²΄ν¬ μƒνƒ ν† κΈ€ κΈ°λ¥
- [x] React μƒνƒ κ΄€λ¦¬ (useState)
- [x] μ ‘κ·Όμ„± κ³ λ ¤ (ARIA λΌλ²¨, μ¤ν¬λ¦° λ¦¬λ” μ§€μ›)
- [x] ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ κµ¬ν„

## π“‹ μ‘μ—… λ©λ΅

### 1. λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μμ •
- [x] 1.1 notes ν…μ΄λΈ”μ— is_checked μ»¬λΌ μ¶”κ°€
- [x] 1.2 κΈ°λ³Έκ°’ falseλ΅ μ„¤μ •
- [x] 1.3 λ§μ΄κ·Έλ μ΄μ… μ‹¤ν–‰

### 2. API μ—”λ“ν¬μΈνΈ κ°λ°
- [x] 2.1 μ²΄ν¬ μƒνƒ ν† κΈ€ API μƒμ„± (`/api/notes/[id]/toggle-check`)
- [x] 2.2 PATCH λ©”μ„λ“λ΅ μƒνƒ λ³€κ²½
- [x] 2.3 μ‚¬μ©μ μΈμ¦ λ° κ¶ν• ν™•μΈ
- [x] 2.4 μ—λ¬ μ²λ¦¬ λ° μ‘λ‹µ

### 3. UI μ»΄ν¬λ„νΈ κ°λ°
- [x] 3.1 λ…ΈνΈ μΉ΄λ“μ— μ²΄ν¬λ°•μ¤ μ¶”κ°€
- [x] 3.2 λ…ΈνΈ μƒμ„Έ νμ΄μ§€μ— μ²΄ν¬λ°•μ¤ μ¶”κ°€
- [x] 3.3 μ²΄ν¬ μƒνƒμ— λ”°λ¥Έ μ‹κ°μ  μ¤νƒ€μΌ μ μ©
- [x] 3.4 "Reviewed" λΌλ²¨ μ μ©

### 4. μƒνƒ κ΄€λ¦¬ λ° ν†µν•©
- [x] 4.1 μ²΄ν¬ μƒνƒ λ΅μ»¬ μƒνƒ κ΄€λ¦¬
- [x] 4.2 API νΈμ¶ λ° μƒνƒ λ™κΈ°ν™”
- [x] 4.3 λ΅λ”© μƒνƒ μ²λ¦¬
- [x] 4.4 μ—λ¬ μ²λ¦¬

## π”§ κ°λ° λ…ΈνΈ

### κΈ°μ  μ¤νƒ
- **Frontend:** React, TypeScript, Tailwind CSS
- **Backend:** Next.js API Routes
- **Database:** PostgreSQL (Supabase)
- **ORM:** Drizzle ORM

### μ£Όμ” μ»΄ν¬λ„νΈ
- `NoteCard`: λ…ΈνΈ μΉ΄λ“ μ»΄ν¬λ„νΈ (μ²΄ν¬λ°•μ¤ μ¶”κ°€)
- `NoteDetail`: λ…ΈνΈ μƒμ„Έ μ»΄ν¬λ„νΈ (μ²΄ν¬λ°•μ¤ μ¶”κ°€)
- `Toggle Check API`: μ²΄ν¬ μƒνƒ ν† κΈ€ API

### λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
```sql
ALTER TABLE notes ADD COLUMN is_checked BOOLEAN DEFAULT FALSE;
```

### API μ—”λ“ν¬μΈνΈ
```typescript
PATCH /api/notes/[id]/toggle-check
{
  "isChecked": boolean
}
```

### μƒνƒ κ΄€λ¦¬
```typescript
const [isChecked, setIsChecked] = useState(note.isChecked || false);
const [isToggling, setIsToggling] = useState(false);
```

### μ‹κ°μ  μ¤νƒ€μΌ
- μ²΄ν¬ μ „: `<Square className="w-5 h-5 text-gray-400" />`
- μ²΄ν¬ ν›„: `<Check className="w-5 h-5 text-green-600" />`
- μ·¨μ†μ„ : `line-through decoration-2`
- μƒ‰μƒ λ³€κ²½: `text-gray-500` (μ²΄ν¬λ¨), `text-gray-900` (μ²΄ν¬ μ•λ¨)

## π§ ν…μ¤νΈ

### λ‹¨μ„ ν…μ¤νΈ
- μ²΄ν¬λ°•μ¤ ν΄λ¦­ μ‹ μƒνƒ λ³€κ²½ ν…μ¤νΈ
- API νΈμ¶ μ„±κ³µ/μ‹¤ν¨ ν…μ¤νΈ
- μ‹κ°μ  μ¤νƒ€μΌ μ μ© ν…μ¤νΈ

### ν†µν•© ν…μ¤νΈ
- λ…ΈνΈ λ©λ΅μ—μ„ μ²΄ν¬λ°•μ¤ ν† κΈ€
- λ…ΈνΈ μƒμ„Έμ—μ„ μ²΄ν¬λ°•μ¤ ν† κΈ€
- μƒνƒ λ™κΈ°ν™” ν™•μΈ

### μ ‘κ·Όμ„± ν…μ¤νΈ
- μ¤ν¬λ¦° λ¦¬λ” νΈν™μ„±
- ν‚¤λ³΄λ“ λ„¤λΉ„κ²μ΄μ…
- ARIA λΌλ²¨ κ²€μ¦

## π“ λ³€κ²½ λ΅κ·Έ

- **2024-01-XX**: Story 4.5 μ΄κΈ° μ‘μ„±
- **2024-01-XX**: μ‚¬μ©μ μ”μ²­μ— λ”°λ¥Έ μ²΄ν¬λ°•μ¤ κΈ°λ¥ μ¶”κ°€
- **2024-01-XX**: "Reviewed" λΌλ²¨ λ° μ·¨μ†μ„  κ°•ν™” μ μ©

## π― Dev Agent Record

### Agent Model Used
- Claude Sonnet 4

### Debug Log References
- λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μμ • μ™„λ£
- API μ—”λ“ν¬μΈνΈ μƒμ„± μ™„λ£
- λ…ΈνΈ μΉ΄λ“ μ»΄ν¬λ„νΈ μμ • μ™„λ£
- λ…ΈνΈ μƒμ„Έ μ»΄ν¬λ„νΈ μμ • μ™„λ£
- μ²΄ν¬λ°•μ¤ μƒνƒ κ΄€λ¦¬ κµ¬ν„ μ™„λ£
- μ‹κ°μ  μ¤νƒ€μΌ μ μ© μ™„λ£

### Completion Notes List
- β… λ°μ΄ν„°λ² μ΄μ¤μ— is_checked μ»¬λΌ μ¶”κ°€
- β… μ²΄ν¬ μƒνƒ ν† κΈ€ API μ—”λ“ν¬μΈνΈ κµ¬ν„
- β… λ…ΈνΈ μΉ΄λ“μ— μ²΄ν¬λ°•μ¤ UI μ¶”κ°€
- β… λ…ΈνΈ μƒμ„Έ νμ΄μ§€μ— μ²΄ν¬λ°•μ¤ UI μ¶”κ°€
- β… "Reviewed" λΌλ²¨λ΅ λ…ν™•ν• μλ―Έ μ „λ‹¬
- β… μ²΄ν¬ μƒνƒμ— λ”°λ¥Έ μ‹κ°μ  ν”Όλ“λ°± κµ¬ν„
- β… μ·¨μ†μ„  κ°•ν™” (decoration-2) μ μ©
- β… μ ‘κ·Όμ„± κ³ λ ¤ν• κµ¬ν„

### File List
- `drizzle/schema.ts`: λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μμ •
- `app/api/notes/[id]/toggle-check/route.ts`: μ²΄ν¬ μƒνƒ ν† κΈ€ API
- `components/notes/note-card.tsx`: λ…ΈνΈ μΉ΄λ“ μ»΄ν¬λ„νΈ (μμ •)
- `components/notes/note-detail.tsx`: λ…ΈνΈ μƒμ„Έ μ»΄ν¬λ„νΈ (μμ •)

## π”— κ΄€λ ¨ νμΌ

- `drizzle/schema.ts`: λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§
- `app/api/notes/[id]/toggle-check/route.ts`: μ²΄ν¬ μƒνƒ ν† κΈ€ API
- `components/notes/note-card.tsx`: λ…ΈνΈ μΉ΄λ“ μ»΄ν¬λ„νΈ
- `components/notes/note-detail.tsx`: λ…ΈνΈ μƒμ„Έ μ»΄ν¬λ„νΈ

## π“ μ„±κ³µ μ§€ν‘

- μ²΄ν¬λ°•μ¤ ν΄λ¦­ μ‘λ‹µ μ‹κ°„ 200ms μ΄λ‚΄
- μƒνƒ λ™κΈ°ν™” μ •ν™•λ„ 100%
- μ‹κ°μ  ν”Όλ“λ°± μ¦‰μ‹ λ°μ
- μ ‘κ·Όμ„± μ μ 95% μ΄μƒ
- μ‚¬μ©μ λ§μ΅±λ„ 90% μ΄μƒ
